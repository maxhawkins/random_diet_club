function collapseNavbar(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}function submitForm(e){return $.ajax({type:"GET",url:"https://club.us14.list-manage.com/subscribe/post-json?c=?",data:e.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8"})}function onSubmitError(e){}function onSubmitSuccess(){}function update(e){for(var t=Composite.allBodies(engine.world),a=0,o=0;o<t.length;o++){var i=t[o],n=images[o],r=i.position.x/50,s=i.position.y/50,d="translate("+r+"px, "+s+"px) rotate("+i.angle+"rad)";n.style.transform=d,i.speed<.01&&i.angularSpeed<.01&&a++}triggered&&a==t.length||window.requestAnimationFrame(update)}function trigger(){for(var e=0;e<bodies.length;e++){var t=bodies[e],a=11;document.body.offsetWidth<500&&(a=3);var o={x:-15e3,y:50*launchY},i={x:o.x-20,y:o.y},n={x:(Math.sqrt(Math.random())+.5)*a,y:(Math.random()-.5)*(a+3)};Math.random()>.5&&(o.x=50*(window.innerWidth+300),i.x=o.x+12,n.x*=-1),Body.setPosition(t,o),Body.applyForce(t,i,n)}}$(window).scroll(collapseNavbar),$(document).ready(collapseNavbar),$(function(){$("a.page-scroll").bind("click",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1500,"easeInOutExpo"),e.preventDefault()})}),$(function(){var e=$("form");e.submit(function(t){t.preventDefault();var a=e.find('[type="submit"]');a.addClass("loading"),a.attr("disabled",!0),console.log(a),submitForm(e).then(function(e){return a.removeClass("loading"),a.attr("disabled",!1),"success"!==e.result?void onSubmitError(e.msg):void onSubmitSuccess()},function(e){a.removeClass("loading"),a.attr("disabled",!1),onSubmitError("Send failed. Please try again.")})})});for(var Engine=Matter.Engine,World=Matter.World,Bodies=Matter.Bodies,Body=Matter.Body,Vector=Matter.Vector,Composite=Matter.Composite,engine=Engine.create(),bodies=[],images=[],particles=document.getElementById("particles"),downloadSection=document.getElementById("download"),launchY=downloadSection.offsetTop,SRCS=["img/basil.png","img/eggplant.png","img/cabbage.png","img/cabbage2.png","img/salad.png","img/cucumber.png","img/apple.png","img/grape.png"],i=0;i<20;i++){var body=Bodies.rectangle(-15e3,50*launchY,100,100,{friction:0,frictionAir:.008});bodies.push(body);var maxWidth=200;document.body.offsetWidth<500&&(maxWidth=150);var scale=.8+.3*(Math.random()-.5),width=maxWidth*scale,srcIdx=Math.floor(Math.random()*SRCS.length),src=SRCS[srcIdx],image=document.createElement("img");image.className="particle",image.src=src,image.style.position="absolute",image.style.left=0,image.style.top=0,image.style.width=width+"px",image.style.transform="translate(-9999, -9999)",particles.appendChild(image),images.push(image)}engine.world.gravity.y=0,World.add(engine.world,bodies),Engine.run(engine),window.requestAnimationFrame(update);var triggered=!1;$(window).scroll(function(){if(!triggered){var e=window.scrollY+window.innerHeight,t=downloadSection.offsetTop;e<t||e>t+600||(triggered=!0,trigger())}});